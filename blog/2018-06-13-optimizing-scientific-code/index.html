<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Random thoughts on optimizing code for scientific computations - Wu Sun, Ph.D.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="icon" type="image/png" href="/favicon.png">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">

  
  
  
  <link rel="stylesheet" href="/css/style.min.d628d10c7e5bad2469df81f20297c139f5da5d956ee838439499789174bbd858.css">
  

  

</head>

<body class='page page-default-single'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/">
        <span>home</span>
      </a>
    </li>
    
    <li class="menu-item-research">
      <a href="/research/">
        <span>research</span>
      </a>
    </li>
    
    <li class="menu-item-publications">
      <a href="/publications/">
        <span>publications</span>
      </a>
    </li>
    
    <li class="menu-item-data &amp; code">
      <a href="/data/">
        <span>data &amp; code</span>
      </a>
    </li>
    
    <li class="menu-item-teaching">
      <a href="/teaching/">
        <span>teaching</span>
      </a>
    </li>
    
    <li class="menu-item-cv">
      <a href="/cv/">
        <span>cv</span>
      </a>
    </li>
    
    <li class="menu-item-blog">
      <a href="/blog/">
        <span>blog</span>
      </a>
    </li>
    
  </ul>
</div>
  <div class="wrapper">
    <div class='header'>
  <div class="container">
    <div class="logo">
      <a href="https://wusun.name/"><img height=36px alt="Wu Sun, Ph.D." src="/images/logo/logo.svg" /></a>
    </div>
    <div class="logo-mobile">
      <a href="https://wusun.name/"><img height=32px alt="Wu Sun, Ph.D." src="/images/logo/logo-mobile.png" /></a>
    </div>
    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/">
        
        <span>home</span>
      </a>
    </li>
    
    <li class="menu-item-research">
      <a href="/research/">
        
        <span>research</span>
      </a>
    </li>
    
    <li class="menu-item-publications">
      <a href="/publications/">
        
        <span>publications</span>
      </a>
    </li>
    
    <li class="menu-item-data &amp; code">
      <a href="/data/">
        
        <span>data &amp; code</span>
      </a>
    </li>
    
    <li class="menu-item-teaching">
      <a href="/teaching/">
        
        <span>teaching</span>
      </a>
    </li>
    
    <li class="menu-item-cv">
      <a href="/cv/">
        
        <span>cv</span>
      </a>
    </li>
    
    <li class="menu-item-blog">
      <a href="/blog/">
        
        <span>blog</span>
      </a>
    </li>
    
  </ul>
</div>
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button" aria-label="Mobile Menu">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
  </div>
</div>

    
<div class="container pb-6 pt-6 pt-md-10 pb-md-10">
  <div class="row justify-content-start">
    <div class="col-12 col-md-8">
      <h1 class="title">Random thoughts on optimizing code for scientific computations</h1>
      <p><time datetime=2018-06-13T19:25:00-0700 class="post-date">Wed, Jun 13, 2018</time></p>
      <div class="content"><p>I have no time to write an essay, so here are some fragmentary thoughts.</p>
<ol>
<li>
<p>Scientists who deal with computationally demanding research subjects can be
obsessed with code performance, and sometimes rightly so. However, this
obsession, if not tamed by sound principles and pragmatic wisdom, may lead
us down the evil path of <a href="http://wiki.c2.com/?PrematureOptimization">Premature Optimization</a>.
We should always be reminded of its danger. The aphorism by Donald Knuth
may be recited three times a day:</p>
<blockquote>
<p><em>Premature optimization is the root of all evil.</em></p>
</blockquote>
</li>
<li>
<p>Make it work first, and then make it fast.</p>
</li>
<li>
<p>Follow the <a href="http://wiki.c2.com/?RulesOfOptimizationClub">Rules Of Optimization</a>.</p>
</li>
<li>
<p>Level of trust: profiler &gt; micro-benchmark tests &gt; design for performance.</p>
</li>
<li>
<p>Refactoring is a never-ending quest. You can make the work of the future
&ldquo;you&rdquo; easier by writing clean and maintainable code at this moment.</p>
</li>
<li>
<p>There is not a language that rules them all. Even in the small niche of
scientific computing. Never will. Learn multiple languages and pick the
best horse for the course.</p>
</li>
<li>
<p>Do not idolize Fortran (or C or C++). If you don&rsquo;t have tight inner loops
that consume 80% of your computation time, then you probably don&rsquo;t need to
use them (unless you enjoy so). Vita brevis; learn and use a high-level
language.</p>
</li>
</ol>
<p>Afterthought: I think some of the rules of optimization also apply to writing a
manuscript. For example, do not commit premature editing before having the
first draft.</p>
<h2 id="references">References</h2>
<ol>
<li>&ldquo;CategoryOptimization&rdquo;, <a href="http://wiki.c2.com/?CategoryOptimization">http://wiki.c2.com/?CategoryOptimization</a>. This
contains a bunch of insightful posts on how to deal with optimization.</li>
<li>Fowler, M. (2002). Yet Another Optimization Article. <em>IEEE Software</em>,
19(3), 20&ndash;21. doi:10.1109/MS.2002.1003448. Retrieved at
<a href="https://www.martinfowler.com/ieeeSoftware/yetOptimization.pdf">https://www.martinfowler.com/ieeeSoftware/yetOptimization.pdf</a> on
2018-06-13.</li>
</ol>
</div>
    </div>
  </div>
</div>

  </div>

  <div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="footer-inner">
          <h3 class="footer-title">Wu Sun, Ph.D.</h3>
          <ul>
            
            
            <li class="menu-item-home">
              <a href="/">
                home
              </a>
            </li>
            
            <li class="menu-item-contact">
              <a href="/contact/">
                contact
              </a>
            </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
  <div class="sub-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="sub-footer-inner">
          
            
<div class="social">
    
        <a href="https://github.com/wusunlab" target="blank"><img src="/images/social/github.svg" title="Github" alt="Github" /></a>
    
        <a href="https://scholar.google.com/citations?user=YjkYTeoAAAAJ" target="blank"><img src="/images/social/google-scholar.svg" title="Google Scholar" alt="Google Scholar" /></a>
    
        <a href="https://orcid.org/0000-0002-2333-6282" target="blank"><img src="/images/social/orcid.svg" title="ORCID" alt="ORCID" /></a>
    
        <a href="https://twitter.com/dr_wusun" target="blank"><img src="/images/social/twitter.svg" title="Twitter" alt="Twitter" /></a>
    
</div>

          
          
            <div class="copyright">© 2019–2021 Wu Sun. All rights reserved.</div>
          
        </div>
      </div>
    </div>
  </div>
</div>

  

  
  

  
  <script type="text/javascript" src="/js/scripts.min.98ee06cc35517b5800b382aecb0fc59893e95b9c11dd21842d0d57e4f68043e3.js"></script>
  

  






  





</body>

</html>
